#
# Simple database and stream protocol file for basic SCPI (IEEE488.2) commands
#


#
# Short and long form of identification string
#
record(stringin, "$(P)$(R)IDN")
{
    field(DESC, "SCPI identification string")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO_4104B.proto getIDN(39) $(PORT) $(A)")
    field(PINI, "YES")
}
record(waveform, "$(P)$(R)IDNwf")
{
    field(DESC, "SCPI identification string")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO_4104B.proto getIDN(199) $(PORT) $(A)")
    field(PINI, "YES")
    field(FTYP, "CHAR")
    field(NELM, "200")
}

record(bo, "$(P)$(R)RST")
{
    field(DESC, "SCPI Reset")
    field(DTYP, "stream")
    field(OUT,  "@devTektronix_MSO_4104B.proto cmd(*RST) $(PORT) $(A)")
}

record(bo, "$(P)$(R)CLS")
{
    field(DESC, "SCPI Clear status")
    field(DTYP, "stream")
    field(OUT,  "@devTektronix_MSO_4104B.proto cmd(*CLS) $(PORT) $(A)")
}

record(ao, "$(P):FORMAT")
{
    field(DESC, "Set file format")
    field(DTYP, "stream")
    field(OUT,  "@devTektronix_MSO_4104B.proto setFORMAT $(PORT) $(A)")
}

record(ai, "$(P):SCREEN")
{
    field(DESC, "Get screen capture")
    field(DTYP, "stream")
    field(OUT,  "@devTektronix_MSO_4104B.proto getSCREEN $(PORT) $(A)")
}
